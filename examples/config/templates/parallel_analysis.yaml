name: parallel_analysis
description: "Demonstrates parallel execution of multiple analyses"
version: 1.0.0

metadata:
  category: phase2
  tags:
    - parallel
    - concurrent
    - demo
  author: Dev Team

config:
  defaults:
    provider: openai
    model: gpt-4o-mini
    temperature: 0.5

steps:
  # Step 1: Parallel analysis from different perspectives
  - name: multi_perspective_analysis
    description: "Analyze from multiple perspectives in parallel"
    
    parallel:
      name: perspective_group
      max_concurrent: 3
      
      steps:
        - name: technical_analysis
          prompt: |
            Provide a TECHNICAL perspective on:
            {{stdin}}
            
            Focus on: implementation, architecture, technical feasibility.
          
          servers: []
          output: technical_view
        
        - name: business_analysis
          prompt: |
            Provide a BUSINESS perspective on:
            {{stdin}}
            
            Focus on: ROI, market impact, business value.
          
          servers: []
          output: business_view
        
        - name: user_analysis
          prompt: |
            Provide a USER perspective on:
            {{stdin}}
            
            Focus on: user experience, accessibility, usability.
          
          servers: []
          output: user_view
      
      aggregate:
        output: all_perspectives
        combine: array
    
    output: perspectives
  
  # Step 2: Synthesize all perspectives
  - name: synthesis
    description: "Combine all perspectives into unified view"
    depends_on:
      - multi_perspective_analysis
    
    prompt: |
      Here are multiple perspectives on the same topic:
      {{perspectives}}
      
      Synthesize these into a balanced, comprehensive analysis that:
      1. Integrates all viewpoints
      2. Identifies areas of agreement
      3. Highlights trade-offs
      4. Provides actionable recommendations
    
    servers: []
    output: final_analysis
